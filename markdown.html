<!DOCTYPE html>
<html lang="en" data-root="https://fsprojects.github.io/FSharp.Formatting/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Tomas Petricek; Oleg Pestov; Anh-Dung Phan; Xiang Zhang; Matthias Dittrich; Don Syme" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="FSharp.Formatting">
    <meta property="og:title" content="Markdown parser
" />
    <meta property="og:url" content="https://fsprojects.github.io/FSharp.Formatting/markdown.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://fsprojects.github.io/FSharp.Formatting/">
    <meta name="twitter:title" content="Markdown parser
">
    
    <title>Markdown parser
 | FSharp.Formatting</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fsprojects.github.io/FSharp.Formatting/img/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-theme-set-dark.js"></script>
    <script type="application/javascript" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-details-set-expanded.js"></script>
    <link href="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="license-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Formatting/blob/master/LICENSE.md">License</a>
                </li>
                <li class="release-notes-menu-item builtin-menu-item nav-item"><a class="nav-link"
                                        href="https://github.com/fsprojects/FSharp.Formatting/blob/master/RELEASE_NOTES.md">Release
                    Notes</a></li>
                <li class="repository-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Formatting/">Source
                    Repository</a></li>
                <li class="nav-header ">
  Documentation
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/zero-to-hero.html">
    Getting Started
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/commandline.html">
    Command line

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/literate.html">
    Literate Scripts

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/literate-notebook.html">
    Literate Notebooks

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/content.html">
    Creating Content

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/apidocs.html">
    Generating API Docs
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/evaluation.html">
    Embedding script output

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/styling.html">
    Customization and Styling

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/users.html">
    Users of FSharp.Formatting

  </a>
</li>             
<li class="nav-header ">
  Examples
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/sidebyside/sidescript.html">
    Literate Script
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/sidebyside/sidemarkdown.html">
    Markdown Content
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/sidebyside/sideextensions.html">
    Markdown LaTeX
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/templates/leftside/styling.html">
    Example: Styling for Right-Side Navigation Bar

  </a>
</li>             
<li class="nav-header active">
  Advanced
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/codeformat.html">
    Code formatting

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/upgrade.html">
    Upgrading to fsdocs

  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/markdown.html">
    Markdown parser

  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
        <a href="https://fsprojects.github.io/FSharp.Formatting/">
            <img alt="Header menu logo" src="https://fsprojects.github.io/FSharp.Formatting/img/logo.png">
            <strong>FSharp.Formatting</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/fsprojects/FSharp.Formatting/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="license-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Formatting/blob/master/LICENSE.md">License</a>
        </li>
        <li class="release-notes-menu-item builtin-menu-item nav-item"><a class="nav-link"
                                href="https://github.com/fsprojects/FSharp.Formatting/blob/master/RELEASE_NOTES.md">Release
            Notes</a></li>
        <li class="repository-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Formatting/">Source
            Repository</a></li>
        <li class="nav-header ">
  Documentation
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/zero-to-hero.html">
    Getting Started
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/commandline.html">
    Command line

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/literate.html">
    Literate Scripts

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/literate-notebook.html">
    Literate Notebooks

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/content.html">
    Creating Content

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/apidocs.html">
    Generating API Docs
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/evaluation.html">
    Embedding script output

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/styling.html">
    Customization and Styling

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/users.html">
    Users of FSharp.Formatting

  </a>
</li>             
<li class="nav-header ">
  Examples
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/sidebyside/sidescript.html">
    Literate Script
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/sidebyside/sidemarkdown.html">
    Markdown Content
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/sidebyside/sideextensions.html">
    Markdown LaTeX
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/templates/leftside/styling.html">
    Example: Styling for Right-Side Navigation Bar

  </a>
</li>             
<li class="nav-header active">
  Advanced
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/codeformat.html">
    Code formatting

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/upgrade.html">
    Upgrading to fsdocs

  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/markdown.html">
    Markdown parser

  </a>
</li>
        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Formatting/reference/index.html">
    All Namespaces
  </a>
</li>
    </ul>
</aside>
<main>
    <div id="content">
        
<p><a href="https://mybinder.org/v2/gh/fsprojects/fsharp.formatting/gh-pages?filepath=markdown.ipynb"><img src="img/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="https://fsprojects.github.io/FSharp.Formatting//markdown.fsx"><img src="img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="https://fsprojects.github.io/FSharp.Formatting//markdown.ipynb"><img src="img/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="Markdown-parser" class="anchor" href="#Markdown-parser">Markdown parser</a></h1>
<p>This page demonstrates how to use <code>FSharp.Formatting.Markdown</code> to parse a Markdown
document, process the obtained document representation, and
how to turn the code into a nicely formatted HTML.</p>
<p>First, we need to load the assembly and open the necessary namespaces:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Formatting</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">Markdown</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 5)" onmouseover="showTip(event, 'fs2', 5)" class="id">Formatting</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="id">Common</span>
</code></pre>
<h2><a name="Parsing-documents" class="anchor" href="#Parsing-documents">Parsing documents</a></h2>
<p>The F# Markdown parser recognizes the standard <a href="http://daringfireball.net/projects/markdown/">Markdown syntax</a>
and it is not the aim of this tutorial to fully document it.
The following snippet creates a simple string containing a document
with several elements and then parses it using the <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdown.html#Parse">Markdown.Parse</a> method:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="id">document</span> <span class="o">=</span>
    <span class="s">&quot;&quot;&quot;</span>
<span class="s"># F# Hello world</span>
<span class="s">Hello world in [F#](http://fsharp.net) looks like this:</span>

<span class="s">    printfn &quot;Hello world!&quot;</span>

<span class="s">For more see [fsharp.org][fsorg].</span>

<span class="s">  [fsorg]: http://fsharp.org &quot;The F# organization.&quot; &quot;&quot;&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="id">parsed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="rt">Markdown</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="id">Parse</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="id">document</span><span class="pn">)</span>
</code></pre>
<p>The sample document consists of a first-level heading (written using
one of the two alternative styles) followed by a paragraph with a
<em>direct</em> link, code snippet and one more paragraph that includes an
<em>indirect</em> link. The URLs of indirect links are defined by a separate
block as demonstrated on the last line (and they can then be easily used repeatedly
from multiple places in the document).</p>
<h2><a name="Working-with-parsed-documents" class="anchor" href="#Working-with-parsed-documents">Working with parsed documents</a></h2>
<p>The F# Markdown processor does not turn the document directly into HTML.
Instead, it builds a nice F# data structure that we can use to analyze,
transform and process the document. First of all the <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdowndocument.html#DefinedLinks">MarkdownDocument.DefinedLinks</a> property
returns all indirect link definitions:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs6', 12)" onmouseover="showTip(event, 'fs6', 12)" class="id">parsed</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="id">DefinedLinks</span>
<span class="fsi">val it : IDictionary&lt;string,(string * string option)&gt; =</span>
<span class="fsi">  dict [(&quot;fsorg&quot;, (&quot;http://fsharp.org&quot;, Some &quot;The F# organization.&quot;))]</span>
</code></pre>
<p>The document content can be accessed using the <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdowndocument.html#Paragraphs">MarkdownDocument.Paragraphs</a> property that returns
a sequence of paragraphs or other first-level elements (headings, quotes, code snippets, etc.).
The following snippet prints the heading of the document:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Iterate over all the paragraph elements</span>
<span class="k">for</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="fn">par</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs6', 15)" onmouseover="showTip(event, 'fs6', 15)" class="id">parsed</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="id">Paragraphs</span> <span class="k">do</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs10', 17)" onmouseover="showTip(event, 'fs10', 17)" class="fn">par</span> <span class="k">with</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="uc">Heading</span> <span class="pn">(</span><span class="prop">size</span> <span class="o">=</span> <span class="n">1</span><span class="pn">;</span> <span class="prop">body</span> <span class="o">=</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="uc">Literal</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="prop">text</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="fn">text</span><span class="pn">)</span> <span class="pn">]</span><span class="pn">)</span> <span class="k">-&gt;</span>
        <span class="c">// Recognize heading that has a simple content</span>
        <span class="c">// containing just a literal (no other formatting)</span>
        <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs14', 23)" onmouseover="showTip(event, 'fs14', 23)" class="fn">text</span>
    <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>You can find more detailed information about the document structure and how to process it
in the book <a href="http://manning.com/petricek2/">F# Deep Dives</a>.</p>
<h2><a name="Processing-the-document-recursively" class="anchor" href="#Processing-the-document-recursively">Processing the document recursively</a></h2>
<p>The library provides active patterns that can be used to easily process the Markdown
document recursively. The example in this section shows how to extract all links from the
document. To do that, we need to write two recursive functions. One that will process
all paragraph-style elements and one that will process all inline formattings (inside
paragraphs, headings etc.).</p>
<p>To avoid pattern matching on every single kind of span and every single kind of
paragraph, we can use active patterns from the <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdownpatterns.html">MarkdownPatterns</a> module. These can be use
to recognize any paragraph or span that can contain child elements:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Returns all links in a specified span node</span>
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="fn">collectSpanLinks</span> <span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="fn">span</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="fn">seq</span> <span class="pn">{</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs17', 27)" onmouseover="showTip(event, 'fs17', 27)" class="fn">span</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="uc">DirectLink</span> <span class="pn">(</span><span class="prop">link</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 29)" onmouseover="showTip(event, 'fs20', 29)" class="fn">url</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs20', 30)" onmouseover="showTip(event, 'fs20', 30)" class="fn">url</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs21', 31)" onmouseover="showTip(event, 'fs21', 31)" class="uc">IndirectLink</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs22', 32)" onmouseover="showTip(event, 'fs22', 32)" class="prop">key</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="fn">key</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs23', 34)" onmouseover="showTip(event, 'fs23', 34)" class="fn">fst</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs6', 35)" onmouseover="showTip(event, 'fs6', 35)" class="id">parsed</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 36)" onmouseover="showTip(event, 'fs9', 36)" class="id">DefinedLinks</span><span class="pn">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="fn">key</span><span class="pn">]</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 38)" onmouseover="showTip(event, 'fs24', 38)" class="m">MarkdownPatterns</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 39)" onmouseover="showTip(event, 'fs25', 39)" class="id">SpanLeaf</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 40)" onmouseover="showTip(event, 'fs24', 40)" class="m">MarkdownPatterns</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 41)" onmouseover="showTip(event, 'fs26', 41)" class="id">SpanNode</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs27', 42)" onmouseover="showTip(event, 'fs27', 42)" class="fn">spans</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="k">for</span> <span onmouseout="hideTip(event, 'fs28', 43)" onmouseover="showTip(event, 'fs28', 43)" class="fn">s</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs27', 44)" onmouseover="showTip(event, 'fs27', 44)" class="fn">spans</span> <span class="k">do</span>
                <span class="k">yield!</span> <span onmouseout="hideTip(event, 'fs16', 45)" onmouseover="showTip(event, 'fs16', 45)" class="fn">collectSpanLinks</span> <span onmouseout="hideTip(event, 'fs28', 46)" onmouseover="showTip(event, 'fs28', 46)" class="fn">s</span>
    <span class="pn">}</span>

<span class="c">/// Returns all links in the specified paragraph node</span>
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs29', 47)" onmouseover="showTip(event, 'fs29', 47)" class="fn">collectParLinks</span> <span onmouseout="hideTip(event, 'fs10', 48)" onmouseover="showTip(event, 'fs10', 48)" class="fn">par</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs18', 49)" onmouseover="showTip(event, 'fs18', 49)" class="fn">seq</span> <span class="pn">{</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs10', 50)" onmouseover="showTip(event, 'fs10', 50)" class="fn">par</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 51)" onmouseover="showTip(event, 'fs24', 51)" class="m">MarkdownPatterns</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 52)" onmouseover="showTip(event, 'fs30', 52)" class="id">ParagraphLeaf</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 53)" onmouseover="showTip(event, 'fs24', 53)" class="m">MarkdownPatterns</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 54)" onmouseover="showTip(event, 'fs31', 54)" class="id">ParagraphNested</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs32', 55)" onmouseover="showTip(event, 'fs32', 55)" class="fn">pars</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="k">for</span> <span onmouseout="hideTip(event, 'fs33', 56)" onmouseover="showTip(event, 'fs33', 56)" class="fn">ps</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs32', 57)" onmouseover="showTip(event, 'fs32', 57)" class="fn">pars</span> <span class="k">do</span>
                <span class="k">for</span> <span onmouseout="hideTip(event, 'fs34', 58)" onmouseover="showTip(event, 'fs34', 58)" class="fn">p</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs33', 59)" onmouseover="showTip(event, 'fs33', 59)" class="fn">ps</span> <span class="k">do</span>
                    <span class="k">yield!</span> <span onmouseout="hideTip(event, 'fs29', 60)" onmouseover="showTip(event, 'fs29', 60)" class="fn">collectParLinks</span> <span onmouseout="hideTip(event, 'fs34', 61)" onmouseover="showTip(event, 'fs34', 61)" class="fn">p</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 62)" onmouseover="showTip(event, 'fs24', 62)" class="m">MarkdownPatterns</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 63)" onmouseover="showTip(event, 'fs35', 63)" class="id">ParagraphSpans</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs27', 64)" onmouseover="showTip(event, 'fs27', 64)" class="fn">spans</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="k">for</span> <span onmouseout="hideTip(event, 'fs28', 65)" onmouseover="showTip(event, 'fs28', 65)" class="fn">s</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs27', 66)" onmouseover="showTip(event, 'fs27', 66)" class="fn">spans</span> <span class="k">do</span>
                <span class="k">yield!</span> <span onmouseout="hideTip(event, 'fs16', 67)" onmouseover="showTip(event, 'fs16', 67)" class="fn">collectSpanLinks</span> <span onmouseout="hideTip(event, 'fs28', 68)" onmouseover="showTip(event, 'fs28', 68)" class="fn">s</span>
    <span class="pn">}</span>

<span class="c">// Collect links in the entire document</span>
<span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 70)" onmouseover="showTip(event, 'fs37', 70)" class="id">collect</span> <span onmouseout="hideTip(event, 'fs29', 71)" onmouseover="showTip(event, 'fs29', 71)" class="fn">collectParLinks</span> <span onmouseout="hideTip(event, 'fs6', 72)" onmouseover="showTip(event, 'fs6', 72)" class="id">parsed</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 73)" onmouseover="showTip(event, 'fs11', 73)" class="id">Paragraphs</span>
<span class="fsi">val it : seq&lt;string&gt; =</span>
<span class="fsi">  seq [&quot;http://fsharp.net&quot;; &quot;http://fsharp.org&quot;]</span>
</code></pre>
<p>The <code>collectSpanLinks</code> function works on individual span elements that contain inline
formatting (emphasis, strong) and also links. The <code>DirectLink</code> node from <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdownspan.html">MarkdownSpan</a> represents an inline
link like the one pointing to <a href="http://fsharp.net">http://fsharp.net</a> while <code>IndirectLink</code> represents a
link that uses one of the link definitions. The function simply returns the URL associated
with the link.</p>
<p>Some span nodes (like emphasis) can contain other formatting, so we need to recursively
process children. This is done by matching against <code>MarkdownPatterns.SpanNodes</code> which is an active
pattern that recognizes any node with children. The library also provides a <em>function</em>
named <code>MarkdownPatterns.SpanNode</code> that can be used to reconstruct the same node (when you want
to transform a document). This is similar to how the <code>ExprShape</code> module for working with
F# quotations works.</p>
<p>The function <code>collectParLinks</code> processes paragraphs - a paragraph cannot directly be a
link so we just need to process all spans. This time, there are three options.
<code>ParagraphLeaf</code> represents a case where the paragraph does not contain any spans
(a code block or, for example, a <code>&lt;hr&gt;</code> line); the <code>ParagraphNested</code> case is used for paragraphs
that contain other paragraphs (quotation) and <code>ParagraphSpans</code> is used for all other
paragraphs that contain normal text - here we call <code>collectSpanLinks</code> on all nested spans.</p>
<h2><a name="Generating-HTML-output" class="anchor" href="#Generating-HTML-output">Generating HTML output</a></h2>
<p>Finally, the <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdown.html">Markdown</a> type also includes a method <a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-formatting-markdown-markdown.html#ToHtml">Markdown.ToHtml</a> that can be used
to generate an HTML document from the Markdown input. The following example shows how to call it:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 74)" onmouseover="showTip(event, 'fs38', 74)" class="id">html</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 75)" onmouseover="showTip(event, 'fs7', 75)" class="rt">Markdown</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 76)" onmouseover="showTip(event, 'fs39', 76)" class="id">ToHtml</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs6', 77)" onmouseover="showTip(event, 'fs6', 77)" class="id">parsed</span><span class="pn">)</span>
</code></pre>
<p>There are also methods to generate <code>.fsx</code>, <code>.ipynb</code>, <code>.md</code> and <code>.tex</code>.</p>

        <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">namespace FSharp.Formatting</div>
<div class="fsdocs-tip" id="fs3">namespace FSharp.Formatting.Markdown</div>
<div class="fsdocs-tip" id="fs4">namespace FSharp.Formatting.Common</div>
<div class="fsdocs-tip" id="fs5">val document: string</div>
<div class="fsdocs-tip" id="fs6">val parsed: MarkdownDocument</div>
<div class="fsdocs-tip" id="fs7">type Markdown =
  static member Parse: text: string * ?newline: string * ?parseOptions: MarkdownParseOptions -&gt; MarkdownDocument
  static member ToFsx: doc: MarkdownDocument * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; string
  static member ToHtml: doc: MarkdownDocument * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; string + 1 overload
  static member ToLatex: doc: MarkdownDocument * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) * ?lineNumbers: bool -&gt; string + 1 overload
  static member ToMd: doc: MarkdownDocument * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; string
  static member ToPynb: doc: MarkdownDocument * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; string
  static member WriteHtml: doc: MarkdownDocument * writer: TextWriter * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; unit + 1 overload
  static member WriteLatex: doc: MarkdownDocument * writer: TextWriter * ?newline: string * ?substitutions: (ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) * ?lineNumbers: bool -&gt; unit + 1 overload<br /><em>&lt;summary&gt;
 Static class that provides methods for formatting
 and transforming Markdown documents.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs8">static member Markdown.Parse: text: string * ?newline: string * ?parseOptions: MarkdownParseOptions -&gt; MarkdownDocument</div>
<div class="fsdocs-tip" id="fs9">property MarkdownDocument.DefinedLinks: System.Collections.Generic.IDictionary&lt;string,(string * string option)&gt; with get<br /><em>&lt;summary&gt;
 Returns a dictionary containing explicitly defined links
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs10">val par: MarkdownParagraph</div>
<div class="fsdocs-tip" id="fs11">property MarkdownDocument.Paragraphs: MarkdownParagraphs with get<br /><em>&lt;summary&gt;
 Returns a list of paragraphs in the document
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs12">union case MarkdownParagraph.Heading: size: int * body: MarkdownSpans * range: MarkdownRange option -&gt; MarkdownParagraph</div>
<div class="fsdocs-tip" id="fs13">Multiple items<br />union case MarkdownSpan.Literal: text: string * range: MarkdownRange option -&gt; MarkdownSpan<br /><br />--------------------<br />type LiteralAttribute =
  inherit Attribute
  new: unit -&gt; LiteralAttribute<br /><br />--------------------<br />new: unit -&gt; LiteralAttribute</div>
<div class="fsdocs-tip" id="fs14">val text: string</div>
<div class="fsdocs-tip" id="fs15">val printfn: format: Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs16">val collectSpanLinks: span: MarkdownSpan -&gt; string seq<br /><em>&#160;Returns all links in a specified span node</em></div>
<div class="fsdocs-tip" id="fs17">val span: MarkdownSpan</div>
<div class="fsdocs-tip" id="fs18">Multiple items<br />val seq: sequence: &#39;T seq -&gt; &#39;T seq<br /><br />--------------------<br />type &#39;T seq = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs19">union case MarkdownSpan.DirectLink: body: MarkdownSpans * link: string * title: string option * range: MarkdownRange option -&gt; MarkdownSpan</div>
<div class="fsdocs-tip" id="fs20">val url: string</div>
<div class="fsdocs-tip" id="fs21">union case MarkdownSpan.IndirectLink: body: MarkdownSpans * original: string * key: string * range: MarkdownRange option -&gt; MarkdownSpan</div>
<div class="fsdocs-tip" id="fs22">val key: string</div>
<div class="fsdocs-tip" id="fs23">val fst: tuple: (&#39;T1 * &#39;T2) -&gt; &#39;T1</div>
<div class="fsdocs-tip" id="fs24">module MarkdownPatterns

from FSharp.Formatting.Markdown<br /><em>&lt;summary&gt;
 This module provides an easy way of processing Markdown documents.
 It lets you decompose documents into leafs and nodes with nested paragraphs.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs25">Multiple items<br />val SpanLeaf: MarkdownPatterns.SpanLeafInfo -&gt; MarkdownSpan<br /><br />--------------------<br />active recognizer SpanLeaf: MarkdownSpan -&gt; Choice&lt;MarkdownPatterns.SpanLeafInfo,(MarkdownPatterns.SpanNodeInfo * MarkdownSpans)&gt;</div>
<div class="fsdocs-tip" id="fs26">Multiple items<br />val SpanNode: MarkdownPatterns.SpanNodeInfo * spans: MarkdownSpans -&gt; MarkdownSpan<br /><br />--------------------<br />active recognizer SpanNode: MarkdownSpan -&gt; Choice&lt;MarkdownPatterns.SpanLeafInfo,(MarkdownPatterns.SpanNodeInfo * MarkdownSpans)&gt;</div>
<div class="fsdocs-tip" id="fs27">val spans: MarkdownSpans</div>
<div class="fsdocs-tip" id="fs28">val s: MarkdownSpan</div>
<div class="fsdocs-tip" id="fs29">val collectParLinks: par: MarkdownParagraph -&gt; string seq<br /><em>&#160;Returns all links in the specified paragraph node</em></div>
<div class="fsdocs-tip" id="fs30">Multiple items<br />val ParagraphLeaf: MarkdownPatterns.ParagraphLeafInfo -&gt; MarkdownParagraph<br /><br />--------------------<br />active recognizer ParagraphLeaf: MarkdownParagraph -&gt; Choice&lt;MarkdownPatterns.ParagraphLeafInfo,(MarkdownPatterns.ParagraphNestedInfo * MarkdownParagraphs list),(MarkdownPatterns.ParagraphSpansInfo * MarkdownSpans)&gt;</div>
<div class="fsdocs-tip" id="fs31">Multiple items<br />val ParagraphNested: MarkdownPatterns.ParagraphNestedInfo * pars: MarkdownParagraphs list -&gt; MarkdownParagraph<br /><br />--------------------<br />active recognizer ParagraphNested: MarkdownParagraph -&gt; Choice&lt;MarkdownPatterns.ParagraphLeafInfo,(MarkdownPatterns.ParagraphNestedInfo * MarkdownParagraphs list),(MarkdownPatterns.ParagraphSpansInfo * MarkdownSpans)&gt;</div>
<div class="fsdocs-tip" id="fs32">val pars: MarkdownParagraphs list</div>
<div class="fsdocs-tip" id="fs33">val ps: MarkdownParagraphs</div>
<div class="fsdocs-tip" id="fs34">val p: MarkdownParagraph</div>
<div class="fsdocs-tip" id="fs35">Multiple items<br />val ParagraphSpans: MarkdownPatterns.ParagraphSpansInfo * spans: MarkdownSpans -&gt; MarkdownParagraph<br /><br />--------------------<br />active recognizer ParagraphSpans: MarkdownParagraph -&gt; Choice&lt;MarkdownPatterns.ParagraphLeafInfo,(MarkdownPatterns.ParagraphNestedInfo * MarkdownParagraphs list),(MarkdownPatterns.ParagraphSpansInfo * MarkdownSpans)&gt;</div>
<div class="fsdocs-tip" id="fs36">module Seq

from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs37">val collect: mapping: (&#39;T -&gt; #seq&lt;&#39;U&gt;) -&gt; source: &#39;T seq -&gt; &#39;U seq</div>
<div class="fsdocs-tip" id="fs38">val html: string</div>
<div class="fsdocs-tip" id="fs39">static member Markdown.ToHtml: markdownText: string * ?newline: string * ?substitutions: (FSharp.Formatting.Templating.ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; string<br />static member Markdown.ToHtml: doc: MarkdownDocument * ?newline: string * ?substitutions: (FSharp.Formatting.Templating.ParamKey * string) list * ?crefResolver: (string -&gt; (string * string) option) * ?mdlinkResolver: (string -&gt; string option) -&gt; string</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#Markdown-parser">
      Markdown parser
    </a>
  </li>
  <li class="level-2">
    <a href="#Parsing-documents">
      Parsing documents
    </a>
  </li>
  <li class="level-2">
    <a href="#Working-with-parsed-documents">
      Working with parsed documents
    </a>
  </li>
  <li class="level-2">
    <a href="#Processing-the-document-recursively">
      Processing the document recursively
    </a>
  </li>
  <li class="level-2">
    <a href="#Generating-HTML-output">
      Generating HTML output
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-tips.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-details-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-theme.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Formatting/content/fsdocs-search.js"></script>

</body>
</html>