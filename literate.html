<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>F# Formatting: Literate programming
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A package of libraries for building great F# documentation, samples and blogs">
    <meta name="author" content="Tomas Petricek and F# Formatting contributors">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/FSharp.Formatting/content/style.css" />
    <script type="text/javascript" src="https://fsprojects.github.io/FSharp.Formatting/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://fsharp.github.io/FSharp.Compiler.Service"><img src="https://fsharp.github.io/FSharp.Compiler.Service/images/logo.png" style="width:16px; height:16px;" /> F# Compiler Services</a></li>
        </ul>
        <h3 class="muted"><a href="https://fsprojects.github.io/FSharp.Formatting/index.html">F# Formatting</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          <h1><a name="F-Formatting-Literate-programming" class="anchor" href="#F-Formatting-Literate-programming">F# Formatting: Literate programming</a></h1>
<p>The <code>FSharp.Formatting.Literate</code> namespace implements
a literate programming model for F# script files (<code>*.fsx</code> files) or Markdown
documents (<code>*.md</code> files) containing F# snippets.</p>
<p>Two inputs are accepted:</p>
<ul>
<li>
<p>Documents that are valid F# script files (<code>*.fsx</code>) and contain special
comments with documentation and commands for generating HTML output</p>
</li>
<li>
<p>Documents that are Markdown documents (<code>*.md</code>) and contain blocks of
F# code (indented by four spaces as usual in Markdown)</p>
</li>
</ul>
<h3><a name="F-Script-files" class="anchor" href="#F-Script-files">F# Script files</a></h3>
<p>The following example shows most of the features that can be used in a literate
F# script file. Most of the features should be quite self-explanatory:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">(**</span>
<span class="c"># First-level heading</span>
<span class="c">Some more documentation using `Markdown`.</span>
<span class="c">*)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="fn">helloWorld</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="fn">printfn</span> <span class="s">&quot;Hello world!&quot;</span>

<span class="c">(** </span>
<span class="c">## Second-level heading</span>
<span class="c">With some more documentation</span>
<span class="c">*)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">numbers</span> <span class="o">=</span> <span class="pn">[</span> <span class="n">0</span> <span class="o">..</span> <span class="n">99</span> <span class="pn">]</span>
<span class="c">(*** include-value: numbers ***)</span>

<span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">sum</span> <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="id">numbers</span>
<span class="c">(*** include-it ***)</span>
</code></pre></td>
</tr>
</table>
<p>The F# script files is processed as follows:</p>
<ul>
<li>
<p>A multi-line comment starting with <code>(**</code> and ending with <code>*)</code> is
turned into text and is processed using the F# Markdown processor
(which supports standard Markdown commands).</p>
</li>
<li>
<p>A single-line comment starting with <code>(***</code> and ending with <code>***)</code>
is treated as a special command. The command can consist of
<code>key</code>, <code>key: value</code> or <code>key=value</code> pairs.</p>
</li>
</ul>
<p>Two of the supported commands are <code>define</code>, which defines a named
snippet (such as <code>final-sample</code>) and removes the command together with
the following F# code block from the main document. The snippet can then
be inserted elsewhere in the document using <code>include</code>. This makes it
possible to write documents without the ordering requirements of the
F# language.</p>
<p>Another command is <code>hide</code> (without a value) which specifies that the
following F# code block (until the next comment or command) should be
omitted from the output.</p>
<h3><a name="Markdown-documents" class="anchor" href="#Markdown-documents">Markdown documents</a></h3>
<p>In the Markdown mode, the entire file is a valid Markdown document, which may
contain F# code snippets (but also other code snippets). As usual, snippets are
indented with four spaces. In addition, the snippets can be annotated with special
commands. Some of them are demonstrated in the following example:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="text"># First-level heading

    [hide]
    let print s = printfn "%s" s

Some more documentation using `Markdown`.

    [module=Hello]
    let helloWorld() = print "Hello world!"

## Second-level heading
With some more documentation

    [lang=csharp]
    Console.WriteLine("Hello world!");
</code></pre></td></tr></table>
<p>When processing the document, all F# snippets are copied to a separate file that
is type-checked using the F# compiler (to obtain colours and tool tips).
The commands are written on the first line of the snippet, wrapped in <code>[...]</code>:</p>
<ul>
<li>
<p>The <code>hide</code> command specifies that the F# snippet should not be included in the
final document. This can be used to include code that is needed to type-check
the code, but is not visible to the reader.</p>
</li>
<li>
<p>The <code>module=Foo</code> command can be used to specify F# <code>module</code> where the snippet
is placed. Use this command if you need multiple versions of the same snippet
or if you need to separate code from different snippets.</p>
</li>
<li>
<p>The <code>lang=foo</code> command specifies the language of the snippet. If the language
is other than <code>fsharp</code>, the snippet is copied to the output as <code>&lt;pre&gt;</code> HTML
tag without any processing.</p>
</li>
</ul>
<h2><a name="Typical-literate-setup" class="anchor" href="#Typical-literate-setup">Typical literate setup</a></h2>
<p>For literate programming support in your project, install the <code>FSharp.Formatting</code> nuget package.</p>
<p>Now we can open <code>FSharp.Formatting.Literate</code> and use the <code>Literate</code> type to process individual
documents or entire directories.</p>
<h3><a name="Processing-individual-files" class="anchor" href="#Processing-individual-files">Processing individual files</a></h3>
<p>Use the two static methods to turn single documents into HTML
as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">IO</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="id">Formatting</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="id">Literate</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="id">source</span> <span class="o">=</span> <span class="k">__SOURCE_DIRECTORY__</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 13)" onmouseover="showTip(event, 'fs12', 13)" class="id">template</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 14)" onmouseover="showTip(event, 'fs13', 14)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 15)" onmouseover="showTip(event, 'fs14', 15)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;template.html&quot;</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 17)" onmouseover="showTip(event, 'fs15', 17)" class="id">script</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 19)" onmouseover="showTip(event, 'fs14', 19)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 20)" onmouseover="showTip(event, 'fs11', 20)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;../docs/script.fsx&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs16', 21)" onmouseover="showTip(event, 'fs16', 21)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 22)" onmouseover="showTip(event, 'fs17', 22)" class="id">ConvertScriptFile</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="id">script</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 24)" onmouseover="showTip(event, 'fs12', 24)" class="id">template</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 25)" onmouseover="showTip(event, 'fs18', 25)" class="id">doc</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 26)" onmouseover="showTip(event, 'fs13', 26)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 28)" onmouseover="showTip(event, 'fs11', 28)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;../docs/document.md&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 30)" onmouseover="showTip(event, 'fs19', 30)" class="id">ConvertMarkdown</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="id">doc</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 32)" onmouseover="showTip(event, 'fs12', 32)" class="id">template</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>For HTML, you can optionally provide a template. Two sample templates
are included: for a <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/templates/template-file.html">single file</a>
and for a <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/templates/template-project.html">project</a>,
but you can use your own. If no template is provided, the result is simply the HTML body
of the document with HTML for tool tips appended to the end.</p>
<p>The template should include two parameters that will be replaced with the actual
HTML: <code>{{document}} will be replaced with the formatted document;</code>{{tooltips}}<code>will be replaced with (hidden)</code><div><code>elements containing code for tool tips that appear
when you place mouse pointer over an identifier. Optionally, you can also use
`{{page-title}}` which will be replaced with the text in a first-level heading.
The template should also reference</code>style.css<code>and</code>tips.js` that define CSS style
and JavaScript functions used by the generated HTML (see sample <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/src/FSharp.Formatting.CodeFormat/files/style.css">stylesheet</a>
and <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/src/FSharp.Formatting.CodeFormat/files/tips.js">script</a> on GitHub).</p>
<h3><a name="Processing-entire-directories" class="anchor" href="#Processing-entire-directories">Processing entire directories</a></h3>
<p>If you have multiple script files and Markdown documents (this time, they need to have
the <code>*.md</code> file extension) in a single directory, you can run the tool on a directory.
It will also automatically check that files are re-generated only when they were changed,
and also copy over any other files. Processing is recursive, making this call a form of static
site generation.</p>
<p>The following sample also uses optional parameter <code>parameters</code> to specify additional
keywords that will be replaced in the template file (this matches the <code>template-project.html</code>
file which is included as a sample in the package):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Load the template &amp; specify project information</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 33)" onmouseover="showTip(event, 'fs20', 33)" class="id">projTemplate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 34)" onmouseover="showTip(event, 'fs11', 34)" class="id">source</span> <span class="o">+</span> <span class="s">&quot;template-project.html&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 35)" onmouseover="showTip(event, 'fs21', 35)" class="id">projInfo</span> <span class="o">=</span>
  <span class="pn">[</span> <span class="s">&quot;page-description&quot;</span><span class="pn">,</span> <span class="s">&quot;F# Literate programming&quot;</span>
    <span class="s">&quot;page-author&quot;</span><span class="pn">,</span> <span class="s">&quot;Tomas Petricek&quot;</span>
    <span class="s">&quot;github-link&quot;</span><span class="pn">,</span> <span class="s">&quot;https://github.com/fsprojects/FSharp.Formatting&quot;</span>
    <span class="s">&quot;project-name&quot;</span><span class="pn">,</span> <span class="s">&quot;F# Formatting&quot;</span> <span class="pn">]</span>

<span class="c">// Process all files and save results to &#39;output&#39; directory</span>
<span onmouseout="hideTip(event, 'fs16', 36)" onmouseover="showTip(event, 'fs16', 36)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="id">ConvertDirectory</span>
  <span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 38)" onmouseover="showTip(event, 'fs11', 38)" class="id">source</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs20', 39)" onmouseover="showTip(event, 'fs20', 39)" class="id">projTemplate</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs11', 40)" onmouseover="showTip(event, 'fs11', 40)" class="id">source</span> <span class="o">+</span> <span class="s">&quot;\\output&quot;</span><span class="pn">,</span> <span class="id">parameters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs21', 41)" onmouseover="showTip(event, 'fs21', 41)" class="id">projInfo</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>The sample template <code>template-project.html</code> has been used to generate this documentation
and it includes additional parameters for specifying various information about F#
projects.</p>
<ul>
<li>
<a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/demo.md">Sample Markdown file</a>
produces the following <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/output/demo-doc.tex">LaTeX output</a>
and <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/output/demo-doc.html">HTML output</a>
</li>
</ul>
<h2><a name="Generating-LaTeX-output" class="anchor" href="#Generating-LaTeX-output">Generating LaTeX output</a></h2>
<p>The methods used above (<code>ConvertScriptFile</code>, <code>ConvertMarkdown</code> as well as <code>ConvertDirectory</code>)
produce HTML output by default, but they can be also used to produce LaTeX output. This is done
by setting the named parameter <code>format</code> to one of the two <code>OutputKind</code> cases. The following
example shows how to call the methods to generate LaTeX documents:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 42)" onmouseover="showTip(event, 'fs23', 42)" class="id">templateTex</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 43)" onmouseover="showTip(event, 'fs13', 43)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 44)" onmouseover="showTip(event, 'fs14', 44)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 45)" onmouseover="showTip(event, 'fs11', 45)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;template.tex&quot;</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 46)" onmouseover="showTip(event, 'fs24', 46)" class="id">scriptTex</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 47)" onmouseover="showTip(event, 'fs13', 47)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 48)" onmouseover="showTip(event, 'fs14', 48)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 49)" onmouseover="showTip(event, 'fs11', 49)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;../docs/script.fsx&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs16', 50)" onmouseover="showTip(event, 'fs16', 50)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 51)" onmouseover="showTip(event, 'fs17', 51)" class="id">ConvertScriptFile</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs24', 52)" onmouseover="showTip(event, 'fs24', 52)" class="id">scriptTex</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs23', 53)" onmouseover="showTip(event, 'fs23', 53)" class="id">templateTex</span><span class="pn">,</span> <span class="id">format</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs25', 54)" onmouseover="showTip(event, 'fs25', 54)" class="rt">OutputKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="id">Latex</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 56)" onmouseover="showTip(event, 'fs27', 56)" class="id">docTex</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 57)" onmouseover="showTip(event, 'fs13', 57)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 58)" onmouseover="showTip(event, 'fs14', 58)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 59)" onmouseover="showTip(event, 'fs11', 59)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;../docs/document.md&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs16', 60)" onmouseover="showTip(event, 'fs16', 60)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 61)" onmouseover="showTip(event, 'fs19', 61)" class="id">ConvertMarkdown</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 62)" onmouseover="showTip(event, 'fs27', 62)" class="id">docTex</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs23', 63)" onmouseover="showTip(event, 'fs23', 63)" class="id">templateTex</span><span class="pn">,</span> <span class="id">format</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs25', 64)" onmouseover="showTip(event, 'fs25', 64)" class="rt">OutputKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 65)" onmouseover="showTip(event, 'fs26', 65)" class="id">Latex</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs16', 66)" onmouseover="showTip(event, 'fs16', 66)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 67)" onmouseover="showTip(event, 'fs22', 67)" class="id">ConvertDirectory</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 68)" onmouseover="showTip(event, 'fs11', 68)" class="id">source</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs23', 69)" onmouseover="showTip(event, 'fs23', 69)" class="id">templateTex</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs11', 70)" onmouseover="showTip(event, 'fs11', 70)" class="id">source</span> <span class="o">+</span> <span class="s">&quot;\\output&quot;</span><span class="pn">,</span>  <span class="id">format</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs25', 71)" onmouseover="showTip(event, 'fs25', 71)" class="rt">OutputKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 72)" onmouseover="showTip(event, 'fs26', 72)" class="id">Latex</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>Note that the <code>template.tex</code> file needs to contain <code>{content}</code> as the key where the body
of the document is placed (this differs from <code>{document}</code> used in the HTML format to avoid
collision with standard Latex <code>{document}</code> tag). The project comes with two samples (also
available as part of the NuGet package). The sample Latex (and HTML) outputs look as follows:</p>
<ul>
<li>
<a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/demo.fsx">Sample F# script file</a>
produces the following <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/output/demo-script.tex">LaTeX output</a>
and <a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/misc/literate/output/demo-script.html">HTML output</a>
</li>
</ul>
<h2><a name="Generating-iPython-Notebook-output" class="anchor" href="#Generating-iPython-Notebook-output">Generating iPython Notebook output</a></h2>
<blockquote>
<p>NOTE: This feature is experimental and not all features of markdown or notebooks is supported</p>
</blockquote>
<p>The methods used above (<code>ConvertScriptFile</code>, <code>ConvertMarkdown</code> as well as <code>ConvertDirectory</code>)
can also produce iPython Notebook output. This is done
by setting the named parameter <code>format</code> to <code>OutputKind.Pynb</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Process script file, Markdown document and a directory</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 73)" onmouseover="showTip(event, 'fs28', 73)" class="id">scriptPynb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 74)" onmouseover="showTip(event, 'fs13', 74)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 75)" onmouseover="showTip(event, 'fs14', 75)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 76)" onmouseover="showTip(event, 'fs11', 76)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;../docs/script.fsx&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs16', 77)" onmouseover="showTip(event, 'fs16', 77)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 78)" onmouseover="showTip(event, 'fs17', 78)" class="id">ConvertScriptFile</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 79)" onmouseover="showTip(event, 'fs28', 79)" class="id">scriptPynb</span><span class="pn">,</span> <span class="id">format</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs25', 80)" onmouseover="showTip(event, 'fs25', 80)" class="rt">OutputKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 81)" onmouseover="showTip(event, 'fs29', 81)" class="id">Pynb</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 82)" onmouseover="showTip(event, 'fs30', 82)" class="id">docPynb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 83)" onmouseover="showTip(event, 'fs13', 83)" class="rt">Path</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 84)" onmouseover="showTip(event, 'fs14', 84)" class="id">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 85)" onmouseover="showTip(event, 'fs11', 85)" class="id">source</span><span class="pn">,</span> <span class="s">&quot;../docs/document.md&quot;</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs16', 86)" onmouseover="showTip(event, 'fs16', 86)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 87)" onmouseover="showTip(event, 'fs19', 87)" class="id">ConvertMarkdown</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs30', 88)" onmouseover="showTip(event, 'fs30', 88)" class="id">docPynb</span><span class="pn">,</span> <span class="id">format</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs25', 89)" onmouseover="showTip(event, 'fs25', 89)" class="rt">OutputKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 90)" onmouseover="showTip(event, 'fs29', 90)" class="id">Pynb</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs16', 91)" onmouseover="showTip(event, 'fs16', 91)" class="rt">Literate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 92)" onmouseover="showTip(event, 'fs22', 92)" class="id">ConvertDirectory</span><span class="pn">(</span> <span onmouseout="hideTip(event, 'fs11', 93)" onmouseover="showTip(event, 'fs11', 93)" class="id">source</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs11', 94)" onmouseover="showTip(event, 'fs11', 94)" class="id">source</span> <span class="o">+</span> <span class="s">&quot;/output&quot;</span><span class="pn">,</span> <span class="id">format</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs25', 95)" onmouseover="showTip(event, 'fs25', 95)" class="rt">OutputKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 96)" onmouseover="showTip(event, 'fs29', 96)" class="id">Pynb</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Optional-parameters" class="anchor" href="#Optional-parameters">Optional parameters</a></h2>
<p>All of the three methods discussed in the previous two sections take a number of optional
parameters that can be used to tweak how the formatting works or even to specify a different
version of the F# compiler:</p>
<ul>
<li>
<code>prefix</code> - a string that is added to all automatically generated <code>id</code> attributes
in the generated HTML document (to avoid collisions with other HTML elements)
</li>
<li>
<code>compilerOptions</code> - this can be used to pass any additional command line 
parameters to the F# compiler (you can use any standard parameters of <code>fsc.exe</code>)
</li>
<li><code>lineNumbers</code> - if <code>true</code> then the generated F# snippets include line numbers.</li>
<li>
<code>references</code> - if <code>true</code> then the script automatically adds a "References" 
section with all indirect links that are defined and used in the document.
</li>
<li>
<code>parameters</code> - a list of key-value pairs containing additional parameters
that should be replaced in the tempalte HTML file.
</li>
<li>
<code>includeSource</code> - when <code>true</code>, parameter <code>{{source}}</code> will be replaced with a 
<code>&lt;pre&gt;</code> tag containing the original source code of the F# Script or Markdown document.
</li>
<li>
<code>errorHandler</code> - a function that is used to report errors from the F# compiler 
(if not specified, errors are printed to the standard output)
</li>
<li>
<code>generateAnchors</code> - when <code>true</code>, the generated HTML will automatically include
anchors for all headings (and so you can click on headings to get a link
to a section). The default value is <code>false</code>.
</li>
<li>
<code>customizeDocument</code> - Allows you to customize the document before writing it 
to the output file. This gives you the opportunity to use your own
code formatting code, for example to support syntax highlighting for another language.
</li>
</ul>

          <div class="tip" id="fs1">val helloWorld : unit -&gt; unit</div>
<div class="tip" id="fs2">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs3">val numbers : int list</div>
<div class="tip" id="fs4">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;&#160;&#160;...</div>
<div class="tip" id="fs5">val sum : list:&#39;T list -&gt; &#39;T (requires member ( + ) and member get_Zero)</div>
<div class="tip" id="fs6">namespace System</div>
<div class="tip" id="fs7">namespace System.IO</div>
<div class="tip" id="fs8">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs9">namespace FSharp.Formatting</div>
<div class="tip" id="fs10">namespace FSharp.Formatting.Literate</div>
<div class="tip" id="fs11">val source : string</div>
<div class="tip" id="fs12">val template : string</div>
<div class="tip" id="fs13">type Path =<br />&#160;&#160;static val DirectorySeparatorChar : char<br />&#160;&#160;static val AltDirectorySeparatorChar : char<br />&#160;&#160;static val VolumeSeparatorChar : char<br />&#160;&#160;static val PathSeparator : char<br />&#160;&#160;static val InvalidPathChars : char[]<br />&#160;&#160;static member ChangeExtension : path:string * extension:string -&gt; string<br />&#160;&#160;static member Combine : [&lt;ParamArray&gt;] paths:string[] -&gt; string + 3 overloads<br />&#160;&#160;static member EndsInDirectorySeparator : path:ReadOnlySpan&lt;char&gt; -&gt; bool + 1 overload<br />&#160;&#160;static member GetDirectoryName : path:string -&gt; string + 1 overload<br />&#160;&#160;static member GetExtension : path:string -&gt; string + 1 overload<br />&#160;&#160;...</div>
<div class="tip" id="fs14">Path.Combine([&lt;System.ParamArray&gt;] paths: string []) : string<br />Path.Combine(path1: string, path2: string) : string<br />Path.Combine(path1: string, path2: string, path3: string) : string<br />Path.Combine(path1: string, path2: string, path3: string, path4: string) : string</div>
<div class="tip" id="fs15">val script : string</div>
<div class="tip" id="fs16">type Literate =<br />&#160;&#160;private new : unit -&gt; Literate<br />&#160;&#160;static member ConvertDirectory : inputDirectory:string * ?template:string * ?outputDirectory:string * ?format:OutputKind * ?formatAgent:CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?fsiEvaluator:IFsiEvaluator * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?processRecursive:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) * ?tokenKindToCss:(TokenKind -&gt; string) -&gt; unit<br />&#160;&#160;static member ConvertDocument : doc:LiterateDocument * output:string * ?template:string * ?format:OutputKind * ?prefix:string * ?lineNumbers:bool * ?includeSource:bool * ?generateAnchors:bool * ?parameters:(string * string) list -&gt; unit<br />&#160;&#160;static member ConvertMarkdown : input:string * ?template:string * ?output:string * ?format:OutputKind * ?formatAgent:CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) -&gt; unit<br />&#160;&#160;static member ConvertScriptFile : input:string * ?template:string * ?output:string * ?format:OutputKind * ?formatAgent:CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?fsiEvaluator:IFsiEvaluator * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) -&gt; unit<br />&#160;&#160;static member private CreateModelForDocument : doc:LiterateDocument * output:string * ?format:OutputKind * ?prefix:string * ?lineNumbers:bool * ?includeSource:bool * ?generateAnchors:bool * ?parameters:(string * string) list * ?tokenKindToCss:(TokenKind -&gt; string) -&gt; LiterateDocModel<br />&#160;&#160;static member private CreateModelForMarkdown : input:string * ?output:string * ?format:OutputKind * ?formatAgent:CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) * ?tokenKindToCss:(TokenKind -&gt; string) -&gt; LiterateDocModel<br />&#160;&#160;static member private CreateModelForScriptFile : input:string * ?output:string * ?format:OutputKind * ?formatAgent:CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?fsiEvaluator:IFsiEvaluator * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) * ?tokenKindToCss:(TokenKind -&gt; string) -&gt; LiterateDocModel<br />&#160;&#160;static member FormatLiterateNodes : doc:LiterateDocument * ?format:OutputKind * ?prefix:string * ?lineNumbers:bool * ?generateAnchors:bool * ?tokenKindToCss:(TokenKind -&gt; string) -&gt; LiterateDocument<br />&#160;&#160;static member ParseMarkdownFile : path:string * ?formatAgent:CodeFormatAgent * ?compilerOptions:string * ?definedSymbols:#seq&lt;string&gt; * ?references:bool * ?fsiEvaluator:IFsiEvaluator -&gt; LiterateDocument<br />&#160;&#160;...</div>
<div class="tip" id="fs17">static member Literate.ConvertScriptFile : input:string * ?template:string * ?output:string * ?format:OutputKind * ?formatAgent:FSharp.Formatting.CodeFormat.CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?fsiEvaluator:Evaluation.IFsiEvaluator * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) -&gt; unit</div>
<div class="tip" id="fs18">val doc : string</div>
<div class="tip" id="fs19">static member Literate.ConvertMarkdown : input:string * ?template:string * ?output:string * ?format:OutputKind * ?formatAgent:FSharp.Formatting.CodeFormat.CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) -&gt; unit</div>
<div class="tip" id="fs20">val projTemplate : string</div>
<div class="tip" id="fs21">val projInfo : (string * string) list</div>
<div class="tip" id="fs22">static member Literate.ConvertDirectory : inputDirectory:string * ?template:string * ?outputDirectory:string * ?format:OutputKind * ?formatAgent:FSharp.Formatting.CodeFormat.CodeFormatAgent * ?prefix:string * ?compilerOptions:string * ?lineNumbers:bool * ?references:bool * ?fsiEvaluator:Evaluation.IFsiEvaluator * ?parameters:(string * string) list * ?includeSource:bool * ?generateAnchors:bool * ?processRecursive:bool * ?customizeDocument:(LiterateProcessingContext -&gt; LiterateDocument -&gt; LiterateDocument) * ?tokenKindToCss:(FSharp.Formatting.CodeFormat.TokenKind -&gt; string) -&gt; unit</div>
<div class="tip" id="fs23">val templateTex : string</div>
<div class="tip" id="fs24">val scriptTex : string</div>
<div class="tip" id="fs25">type OutputKind =<br />&#160;&#160;| Html<br />&#160;&#160;| Latex<br />&#160;&#160;| Pynb</div>
<div class="tip" id="fs26">union case OutputKind.Latex: OutputKind</div>
<div class="tip" id="fs27">val docTex : string</div>
<div class="tip" id="fs28">val scriptPynb : string</div>
<div class="tip" id="fs29">union case OutputKind.Pynb: OutputKind</div>
<div class="tip" id="fs30">val docPynb : string</div>

        </div>
        <div class="span3">
          <a href="https://fsprojects.github.io/FSharp.Formatting/index.html">
            <img src="https://fsprojects.github.io/FSharp.Formatting/misc/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">F# Formatting</li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://www.nuget.org/packages/FSharp.Formatting/">Get Library via NuGet</a></li>
            <li><a href="https://github.com/fsprojects/FSharp.Formatting">Source Code on GitHub</a></li>
            <li><a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/LICENSE.md">License (Apache 2.0)</a></li>
            <li><a href="https://github.com/fsprojects/FSharp.Formatting/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

            <li class="nav-header">Using F# Formatting</li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/literate.html">Literate programming</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/evaluation.html">Embedding output</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/markdown.html">Markdown parser</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/codeformat.html">F# code formatting</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/metadata.html">Library documentation</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/commandline.html">Using command line tool</a></li>

            <li class="nav-header">Examples</li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/sidescript.html">Literate F# script</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/sidemarkdown.html">Literate Markdown file</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/sideextensions.html">Markdown extensions</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/reference/index.html">API Reference</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/development.html">Contribute / Development Topics</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/diagnostics.html">Diagnostics &amp; debugging</a></li>
            <li class="divider"></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-markdown-markdown.html">Markdown type</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-codeformat-codeformat.html">CodeFormat type</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-literate-literate.html">Literate type</a></li>
            <li><a href="https://fsprojects.github.io/FSharp.Formatting/reference/fsharp-apidocs-apidocs.html">ApiDocs type</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/fsprojects/FSharp.Formatting"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>
